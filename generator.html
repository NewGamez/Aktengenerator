<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>NCPD Generator</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
<style>
body{margin:0;background:#050511;color:#fff;font-family:Inter}
header{display:flex;justify-content:space-between;padding:14px;background:#0a0c1e}
button{padding:6px 12px;border-radius:6px;border:none;background:#5865f2;color:#fff}
</style>
</head>
<body>

<script>
function getDiscordToken(){
 const h=location.hash.substring(1);
 if(h){
  const t=new URLSearchParams(h).get("access_token");
  if(t){
   sessionStorage.setItem("discord_token",t);
   history.replaceState(null,"",location.pathname);
   return t;
  }
 }
 return sessionStorage.getItem("discord_token");
}

const isAdmin=sessionStorage.getItem("ncpd_admin_logged_in")==="true";
const hasDiscord=!!getDiscordToken();

if(!isAdmin && !hasDiscord){
 location.href="index.html";
}
</script>

<header>
  <div>NCPD Generator</div>
  <div>
    <button onclick="logout()">Logout</button>
    <button onclick="location.href='settings.html'" style="display:${sessionStorage.getItem("ncpd_admin_logged_in")==="true"?"inline-block":"none"}">Einstellungen</button>
  </div>
</header>

<main style="padding:20px">
<p>Generator erreichbar âœ”</p>
</main>

<script>
function logout(){
 sessionStorage.removeItem("ncpd_admin_logged_in");
 sessionStorage.removeItem("discord_token");
 location.href="index.html";
}
</script>

</body>
</html>
